header {
	padding: 0 calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320));
	&.entry-header {
		padding: 0;
	}
	.nav-wrap {
		padding: calc(24px + (35 - 24) * (100vw - 320px) / (1440 - 320)) 0 105px;
		max-width: 1310px;
		margin: auto;
		@media (min-width: $bp-sm3-min) {
			padding: 35px 0 105px;
		}
		@media (min-width: $bp-xlg-min) {
			padding: 35px 15px 105px;
		}
		position: relative;
		height: 140px;
		#site-navigation {
			position: relative;
			transform: translate3d(0,0,0);
			transition: .2s transform ease-out;
		}
	}
	.main-navigation {
		width:auto;
		float:none;
		@media (min-width: $bp-sm3-min) {
			width: 100%;
			float: none;
		}
		.mobile-nav-close {
			width: 18px;
			height: 18px;
			position: absolute;
			right: calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320));
			top: calc(24px + (35 - 24) * (100vw - 320px) / (1440 - 320)) 0 105px;
			display: none;
			cursor: pointer;
			svg {
				transition: .2s ease-out;
				transform: rotate(0deg);
			}
			&:hover {
				svg {
					transform: rotate(90deg);
				}
			}
		}
		.mobile-nav-locations {
			visibility: hidden;
			opacity: 0;
			position: absolute;
			bottom: calc(24px + (35 - 24) * (100vw - 320px) / (1440 - 320));
			left: calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320));
			pointer-events: none;
			.footer-location {
				display: flex;
			}
			p {
				margin-right: 10px;
				color: white;
				font-size: 14px;
			}
			p:nth-of-type(2) {
				color: $grayAlt;
			}
		}
		&.toggled {
			@media (max-width: $bp-sm3-min) {
				#primary-menu {
					position:fixed !important;
					left: 0;
					right: 0;
					top: 0;
					bottom: 0;
					height: auto;
					background:$black;
					padding: calc(24px + (35 - 24) * (100vw - 320px) / (1440 - 320)) 0 105px calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320);
					@media screen and (min-width: 37.5em) {
						display: block;
					}
					@media (min-width: $bp-sm3-min) {
						position: static;
					}
					li a {
						opacity: 1;
						visibility: visible;
					}
				}
				.mobile-nav-close {
					display: block;
					svg {
						width: 100%;
						height: 100%;
					}
				}
				.mobile-nav-locations {
					opacity: 1;
					visibility: visible;
					pointer-events: auto;
					transition: .2s;
				}
			}
		}
		#primary-menu {
			li {
				display:block;
				float:none;
				font-family: 'noe-display';
				max-width: 60%;
				font-size: 32px;
				@media (min-width: $bp-sm-min) {
					font-size: 40px;
					line-height: 1.2;
				}
				a, a:visited {
					color: $white;
					transition: .3s;
					&:hover {
						color: $white;
					}
				}
			}
			@media screen and (min-width: 37.5em) {
				display:none;
			}
			@media (min-width: $bp-sm3-min) {
				@include flexbox;
				text-align: left;
				li {
					font-size: 20px;
					font-family: 'Fakt-Blond';
					@media (min-width: $bp-sm3-min) {
						margin-right: 162px;
					}
					a, a:visited {
						color: #999999;
						&:hover {
							color: $black;
						}
					}
					&.current-menu-item, &.current_page_parent {
						a, a:visited {
							color: $black;
						}
					}
				}
			}
		}
	}
}

.menu-toggle {
	width: 24px;
	height: 17px;
	padding: 0;
	background: none;
	border: none;
	outline: none;
	float:left;
	@media screen and (min-width: 37.5em) {
		display:block;
	}
	@media (min-width: $bp-sm3-min) {
		display:none;
	}
}

.rapt-logo {
	polyline {
		transition: .1s ease-out;
		transform: scaleX(0);
		transform-origin: 0 0;
		&:nth-of-type(even) {
			transform-origin: 100% 0;
		}
		&:nth-of-type(2) {
			transition-delay: .1s;
		}
		&:nth-of-type(3) {
			transition-delay: .2s;
		}
		&:nth-of-type(4) {
			transition-delay: .3s;
		}
		&:nth-of-type(5) {
			transition-delay: .4s;
		}
		&:nth-of-type(6) {
			transition-delay: .5s;
		}
	}
}

.rapt-logo-wrap {
	position: fixed;
	right: calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320));
	@media (min-width: $bp-xlg-min) {
		right: calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320));
	}
	@media (min-width: $bp-xxlg-min) {
		margin-right: calc((100vw - 1440px) / 2);
	}
	margin-right: 15px;
	top: 22px;
	z-index: 21;
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
	transition: .2s ease-out;

	@media (min-width: $bp-xlg-min) {
		display: block;
		opacity: 1;
		visibility: visible;
		pointer-events: auto;
		top: 25px;
		z-index: 20;
		float:none;
	}
}


.home {
	@media (min-width: $bp-sm3-min) {
		header {
			.nav-wrap {
				padding: 100px calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320)) 0;
				@media (min-width: $bp-xlg-min) {
					padding: 100px 0;
				}
			}
			.main-navigation {
				#primary-menu {
					li {
						a {
							color: $black;
						}
					}
				}
			}
		}
	}
}

header .nav-wrap #site-navigation {
	width: 100%;
	&.toggled {
		@media (max-width: $bp-sm3-min) {
			padding: 31px calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320)) 36px;
			position: fixed;
			transform: translate3d(0,30px,0);
			width: 100%;
			background: white;
			z-index: 20;
			top: -30px;
			bottom: 0;
			left: 0;
			right: 0;
			height: 100vh;
			z-index: 40 !important;
		}
	}
}

.is-nav-fixed {
	.rapt-logo-wrap {
		opacity: 1 !important;
		visibility: visible;
		pointer-events: auto;
	}
	header {
		.nav-wrap {
			#site-navigation {
				padding: calc(26px + (35 - 26) * (100vw - 320px) / (1440 - 320)) calc(18px + (80 - 18) * (100vw - 320px) / (1440 - 320));
				@media (min-width: $bp-xlg-min) {
					padding: 35px calc((100vw - 1280px) / 2);
				}
				position: fixed;
				left: 0;
				top: -30px;
				transform: translate3d(0,30px,0);
				width: 100%;
				background: white;
				z-index: 20;
				&.toggled {
					@media (max-width: $bp-sm3-min) {
						top: -30px;
						bottom: 0;
						left: 0;
						right: 0;
						height: 100vh;
					}
				}
			}
		}
	}
}

.is-nav-fixed {
	header {
		.nav-wrap {
			#site-navigation {
				background: white;
			}
		}
	}
}

.single-post{
	header {
		.nav-wrap {
			#site-navigation {
				background: $peach !important;
			}
		}
	}
}

.blog {
	header {
		.nav-wrap {
			#site-navigation {
				background: #ffefdd !important;
			}
		}
	}
}
